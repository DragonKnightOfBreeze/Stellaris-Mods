namespace = kitsune_game_start

### 游戏开始时生成第二种族人口
planet_event = {
	id = kitsune_game_start.1
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		if = {
			limit = { 
				owner = { has_origin = origin_companion_evolution }
			}
			generate_companion_pops = yes
		}
	}
}

### 游戏开始时生成额外的第二种族人口
planet_event = {
	id = kitsune_game_start.2
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		if = {
			limit = { 
				owner = { has_origin = origin_companion_evolution }
			}
			if = {
				limit = { is_capital = yes }
                while = {
                    count = 8
                    random_owned_pop = { kill_pop = yes }
                }
				random_galaxy_species = {
					limit = { has_species_flag = companion_species@root.owner }
					save_event_target_as = companion_species
				}
				while = {
					count = 8
					create_pop = { species = event_target:companion_species }
				}
			}
			else = {
		        while = {
                    count = 4
                    random_owned_pop = { kill_pop = yes }
                }
				random_galaxy_species = {
					limit = { has_species_flag = companion_species@root.owner }
					save_event_target_as = companion_species
				}
				while = {
					count = 4
                    change_species = event_target:companion_species
				}
			}
		}
	}
}